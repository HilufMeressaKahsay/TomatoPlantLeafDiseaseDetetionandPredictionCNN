<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.ico">
    <title>https://www.Tomato.com/prediction</title>

    <link href="{{ url_for('static', filename='css/main.css') }}" rel="stylesheet"> 
    <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">  
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet"> 
    
    <script src="{{ url_for('static', filename='js/main.js') }}" type="text/javascript"></script>    
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}" type="text/javascript"></script>    
    <script src="{{ url_for('static', filename='js/popper,min.js') }}" type="text/javascript"></script>    
    <script src="{{ url_for('static', filename='js/jquery.min.js') }}" type="text/javascript"></script> 

    <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/font-awesome.min.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/select2.min.css.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/bootstrap-datetimepicker.min.css') }}" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">

    <script src="{{ url_for('static', filename='js/jquery-3.2.1.min.js') }}" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='js/popper.min.js') }}" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='js/jquery.slimscroll') }}" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='js/select2.min.js') }}" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='js/moment.min.js') }}" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='js/bootstrap-datetimepicker.min.js') }}" type="text/javascript"></script>
    <script src="{{ url_for('static', filename='js/app.js') }}" type="text/javascript"></script>
</head>
<style>
span,.menu-title{
        font-size: 20px;
        color: white;
        font-weight:bold;
        text-shadow:3px 4px 7px black;
        font-family:abel;
        margin-top:10px;
        text-transform: uppercase;
        font-size:20px;
    }
    i
    {
    font-size: 20px;
        color: white;
        font-weight:bold;
        text-shadow:3px 4px 7px black;
        font-family:abel;
        margin-top:10px;
        text-transform: uppercase;
        font-size:20px;
    }
</style>
<body>
    <div class="main-wrapper">
        <div class="header" style="background:rgb(97, 195, 97)">
			<div class="header-left">
<!--				<a href="{{ url_for('home') }}" class="logo">-->
<!--					<img src="assets/img/logo.png" width="35" height="35" alt=""> <span>Preclinic</span>-->
<!--				</a>-->
			</div>
			<a id="toggle_btn" href="javascript:void(0);"><i class="fa fa-bars" style="width: 200px;"></i></a>
            
            <a id="mobile_btn" class="mobile_btn float-left" href="#sidebar"><i class="fa fa-bars"></i></a>
           
            <div class="dropdown mobile-user-menu float-right">
                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-ellipsis-v"></i></a>
                <div class="dropdown-menu dropdown-menu-right">
                    <a class="dropdown-item" href="profile.html">My Profile</a>
                    <a class="dropdown-item" href="edit-profile.html">Edit Profile</a>
                    <a class="dropdown-item" href="settings.html">Settings</a>
                    <a class="dropdown-item" href="login.html">Logout</a>
                </div>
            </div>
        </div>
        <div class="sidebar" id="sidebar" style="background:rgb(97, 195, 97)">
            <div class="sidebar-inner slimscroll">
                <div id="sidebar-menu" class="sidebar-menu">
                    <ul>
<!--                        <li class="menu-title">Main</li>-->
                        <li>
                            <a href="{{url_for('home')}}"><i class="fa fa-home"></i> <span>Home</span></a>
                        </li>
                        <li>
                            <a href="{{url_for('prediction') }}"><i class="fa fa-fire"></i> <span>Prediction</span></a>
                        </li>

                        <!-- <li>
                            <a href="{{ url_for('camera') }}"><i class="fa fa-wheelchair"></i> <span>Camera</span></a>
                        </li> -->
                        <li>
                            <a href="{{url_for('view')}}"><i class="fa fa-folder"></i> <span>View</span></a>
                        </li>
<!--                        <li>-->
<!--                            <a href="{{ url_for('links') }}"><i class="fa fa-calendar-check-o"></i> <span>Links</span></a>-->
<!--                        </li>-->
                        <li>
                            <a href="{{ url_for('about') }}"><i class="fa fa-info-circle"></i> <span>About</span></a>
                        </li>
                        <li>
                            <a class="active" href="{{ url_for('profile') }}"><i class="fa fa-users"></i><span>Profile</span>  </a>
                        </li>
                </div>
            </div>
        </div>
            </div>
        </div>
        <div class="page-wrapper">
            <div class="content">
            <center>
                <center><h5 style="color:green;font-weight:bold; 
                    text-shadow:3px 4px 7px black;
                    font-family:abel;margin-top:10px;text-transform: uppercase;
                    font-size:20px;" id="webdevpagehead"></h5></center>

<div>
    <form id="upload-file" method="post" enctype="multipart/form-data">
        <label for="imageUpload" class="upload-label">
            Choose...
        </label>
        <h1 id="cam"></h1>
        <input type="file" name="file"  style="border-radius: 20px;width: 300px;" id="imageUpload" accept=".png, .jpg, .jpeg" onchange="return fileValidation()">
    </form>

    <div class="image-section">
        <div class="img-preview">
            <div id="imagePreview" style="background-color: rgb(190, 211, 190);border-radius: 15px;">
                <img alt="image" src="{{url_for('static',filename='img/example-image.jpg')}}" class="img-fluid">
            </div>
        </div>
        <div>
            <button type="button" style="display:none" class="btn btn-success btn-lg " id="btn-predict">Predict!</button>
           
        </div>
    </div>

    <div class="loader" style="display:none;"></div>

    <center><i style="color:rgb(20, 72, 20);font-weight:bold; 
        text-shadow:3px 4px 7px black;
        font-family:abel;margin-top:10px;;
        font-size:16px;" id="result"></i></center>


</div>
            </center>
				<!-- <div class="row">
                    <div class="col-sm-12">
                        <div class="see-all">
                            <a class="see-all-btn" href="javascript:void(0);">Load More</a>
                        </div>
                    </div>
                </div>
            </div> -->
            <div class="notification-box">
                <div class="msg-sidebar notifications msg-noti">
                    <div class="topnav-dropdown-header">
                        <span>Messages</span>
                    </div>
                    <div class="drop-scroll msg-list-scroll" id="msg_list">
                        <ul class="list-box">
                            <li>
                                <a href="chat.html">
                                    <div class="list-item">
                                        <div class="list-left">
                                            <span class="avatar">R</span>
                                        </div>
                                        <div class="list-body">
                                            <span class="message-author">Richard Miles </span>
                                            <span class="message-time">12:28 AM</span>
                                            <div class="clearfix"></div>
                                            <span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="chat.html">
                                    <div class="list-item new-message">
                                        <div class="list-left">
                                            <span class="avatar">J</span>
                                        </div>
                                        <div class="list-body">
                                            <span class="message-author">John Doe</span>
                                            <span class="message-time">1 Aug</span>
                                            <div class="clearfix"></div>
                                            <span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="chat.html">
                                    <div class="list-item">
                                        <div class="list-left">
                                            <span class="avatar">T</span>
                                        </div>
                                        <div class="list-body">
                                            <span class="message-author"> Tarah Shropshire </span>
                                            <span class="message-time">12:28 AM</span>
                                            <div class="clearfix"></div>
                                            <span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="chat.html">
                                    <div class="list-item">
                                        <div class="list-left">
                                            <span class="avatar">M</span>
                                        </div>
                                        <div class="list-body">
                                            <span class="message-author">Mike Litorus</span>
                                            <span class="message-time">12:28 AM</span>
                                            <div class="clearfix"></div>
                                            <span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="chat.html">
                                    <div class="list-item">
                                        <div class="list-left">
                                            <span class="avatar">C</span>
                                        </div>
                                        <div class="list-body">
                                            <span class="message-author"> Catherine Manseau </span>
                                            <span class="message-time">12:28 AM</span>
                                            <div class="clearfix"></div>
                                            <span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="chat.html">
                                    <div class="list-item">
                                        <div class="list-left">
                                            <span class="avatar">D</span>
                                        </div>
                                        <div class="list-body">
                                            <span class="message-author"> Domenic Houston </span>
                                            <span class="message-time">12:28 AM</span>
                                            <div class="clearfix"></div>
                                            <span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="chat.html">
                                    <div class="list-item">
                                        <div class="list-left">
                                            <span class="avatar">B</span>
                                        </div>
                                        <div class="list-body">
                                            <span class="message-author"> Buster Wigton </span>
                                            <span class="message-time">12:28 AM</span>
                                            <div class="clearfix"></div>
                                            <span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="chat.html">
                                    <div class="list-item">
                                        <div class="list-left">
                                            <span class="avatar">R</span>
                                        </div>
                                        <div class="list-body">
                                            <span class="message-author"> Rolland Webber </span>
                                            <span class="message-time">12:28 AM</span>
                                            <div class="clearfix"></div>
                                            <span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="chat.html">
                                    <div class="list-item">
                                        <div class="list-left">
                                            <span class="avatar">C</span>
                                        </div>
                                        <div class="list-body">
                                            <span class="message-author"> Claire Mapes </span>
                                            <span class="message-time">12:28 AM</span>
                                            <div class="clearfix"></div>
                                            <span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="chat.html">
                                    <div class="list-item">
                                        <div class="list-left">
                                            <span class="avatar">M</span>
                                        </div>
                                        <div class="list-body">
                                            <span class="message-author">Melita Faucher</span>
                                            <span class="message-time">12:28 AM</span>
                                            <div class="clearfix"></div>
                                            <span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="chat.html">
                                    <div class="list-item">
                                        <div class="list-left">
                                            <span class="avatar">J</span>
                                        </div>
                                        <div class="list-body">
                                            <span class="message-author">Jeffery Lalor</span>
                                            <span class="message-time">12:28 AM</span>
                                            <div class="clearfix"></div>
                                            <span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="chat.html">
                                    <div class="list-item">
                                        <div class="list-left">
                                            <span class="avatar">L</span>
                                        </div>
                                        <div class="list-body">
                                            <span class="message-author">Loren Gatlin</span>
                                            <span class="message-time">12:28 AM</span>
                                            <div class="clearfix"></div>
                                            <span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                            <li>
                                <a href="chat.html">
                                    <div class="list-item">
                                        <div class="list-left">
                                            <span class="avatar">T</span>
                                        </div>
                                        <div class="list-body">
                                            <span class="message-author">Tarah Shropshire</span>
                                            <span class="message-time">12:28 AM</span>
                                            <div class="clearfix"></div>
                                            <span class="message-content">Lorem ipsum dolor sit amet, consectetur adipiscing</span>
                                        </div>
                                    </div>
                                </a>
                            </li>
                        </ul>
                    </div>
                    <div class="topnav-dropdown-footer">
                        <a href="chat.html">See all messages</a>
                    </div>
                </div>
            </div>
        </div>
		<div id="delete_doctor" class="modal fade delete-modal" role="dialog">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-body text-center">
						<img src="assets/img/sent.png" alt="" width="50" height="46">
						<h3>Are you sure want to delete this Doctor?</h3>
						<div class="m-t-20"> <a href="#" class="btn btn-white" data-dismiss="modal">Close</a>
							<button type="submit" class="btn btn-danger">Delete</button>
						</div>
					</div>
				</div>
			</div>
		</div>
    </div>
    <div class="sidebar-overlay" data-reff=""></div>
    <script src="assets/js/jquery-3.2.1.min.js"></script>
	<script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/jquery.slimscroll.js"></script>
    <script src="assets/js/select2.min.js"></script>
    <script src="assets/js/moment.min.js"></script>
    <script src="assets/js/bootstrap-datetimepicker.min.js"></script>
    <script src="assets/js/app.js"></script>
</body>

<script>

var counter = 0;
        setTimeout(typefirst, 50);
        function typefirst() {
            if (counter == 0) {
                document.getElementById("webdevpagehead").style.visibility = "visible";
                counter++;
                document.getElementById("webdevpagehead").innerHTML = "U";
                setTimeout(typefirst, 50);
            } else if (counter == 1) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "p";
                setTimeout(typefirst, 50);
            } else if (counter == 2) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "L";
                setTimeout(typefirst, 50);
            }else if (counter == 3) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "o";
                setTimeout(typefirst, 50);
            } 
            else if (counter == 4) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "a";
                setTimeout(typefirst, 50);
            } else if (counter == 5) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "d";
                setTimeout(typefirst, 50);
            } else if (counter == 6) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += " ";
                setTimeout(typefirst, 50);
            }
            else if (counter == 7) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "c";
                setTimeout(typefirst, 50);
            } 
            else if (counter == 8) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "o";
                setTimeout(typefirst, 50);
            }else if (counter == 9) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "r";
                setTimeout(typefirst, 50);
            } 
            
            else if (counter == 10) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "r";
                setTimeout(typefirst, 50);
            }   
            else if (counter == 11) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "e";
                setTimeout(typefirst, 50);
            }else if (counter == 12) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "c";
                setTimeout(typefirst, 50);
            } 
            
            else if (counter == 13) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "t";
                setTimeout(typefirst, 50);
            } else if (counter == 14) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += " ";
                setTimeout(typefirst, 50);
            } else if (counter == 15) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "t";
                setTimeout(typefirst, 50);
            } 
            else if (counter == 16) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "o";
                setTimeout(typefirst, 50);
            }
            else if (counter == 17) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "m";
                setTimeout(typefirst, 50);
            } else if (counter == 18) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "a";
                setTimeout(typefirst, 50);
            } else if (counter == 19) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "t";
                setTimeout(typefirst, 50);
            } else if (counter == 20) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "o";
                setTimeout(typefirst, 50);
            } 
            else if (counter == 21) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += " ";
                setTimeout(typefirst, 50);
            }
            else if (counter == 22) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "l";
                setTimeout(typefirst, 50);
            } else if (counter == 23) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "e";
                setTimeout(typefirst, 50);
            } else if (counter == 24) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "a";
                setTimeout(typefirst, 50);
            } else if (counter == 25) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "f";
                setTimeout(typefirst, 50);
            } else if (counter == 26) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += " ";
                setTimeout(typefirst, 50);
            }
            else if (counter == 27) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "i";
                setTimeout(typefirst, 50);
            } 
            else if (counter ==28) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "m";
                setTimeout(typefirst, 50);
            }
            else if (counter == 29) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "a";
                setTimeout(typefirst, 50);
            } else if (counter == 30) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "g";
                setTimeout(typefirst, 50);
            } else if (counter == 31) {
                counter++;
                document.getElementById("webdevpagehead").innerHTML += "e";
                setTimeout(typefirst, 50);
            }
            else if (counter == 32) {
                setTimeout(wait, 2500);
                counter = 0;
            }
            clearTimeout(timeout1);
        }
            function wait() {
            document.getElementById("webdevpagehead").style.visibility = "hidden";
            setTimeout(typefirst, 0);
        }

function fileValidation() {
            var fileInput = document.getElementById('imageUpload'); 
            var filePath = fileInput.value;
            // Allowing file type
            var allowedExtensions = /(\.JPG|\.png|\.jpeg|\.gif)$/i;
            if (!allowedExtensions.exec(filePath)) {
                alert('Invalid file type');
                fileInput.value = '';
                return false;
            }
        }

    $(document).ready(function () {
    // Init
    // $('.image-section').hide();
    $('.loader').hide();
    $('#result').hide();

    // Upload Preview
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            reader.onload = function (e) {
                $('#imagePreview').css('background-image', 'url(' + e.target.result + ')');
                $('#imagePreview').hide();
                $('#imagePreview').fadeIn(650);
            }
            reader.readAsDataURL(input.files[0]);
        }
    }
    $("#imageUpload").change(function () {
        $('.image-section').show();
        $('#btn-predict').show();
        $('#result').text('');
        $('#result').hide();
        $('.img-fluid').hide();
        readURL(this);
    });

    // Predict
    $('#btn-predict').click(function () {
        var form_data = new FormData($('#upload-file')[0]);
   
        // Show loading animation
        $(this).hide();
        $('.loader').show();
        // Make prediction by calling api /predict
        $.ajax({
            type: 'POST',
            url: '/predict',
            data: form_data,
            contentType: false,
            cache: false,
            processData: false,
            async: true,
            success: function (data) {
                // alert(data);
                if(data.match("Health")){
                {
                $('.loader').hide();
                $('#result').fadeIn(600);
                $('#result').text(' Result : It is health'); 
                }
            }
                else{
                      // Get and display the result
                $('.loader').hide();
                $('#result').fadeIn(600);
                $('#result').text(' Result : The plant leaf disease is :  ' + data);
                // console.log('Success!');
                }
              
            },
        });
    });

});

</script>
<!-- doctors23:17-->
</html>